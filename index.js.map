{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst axios2 = axios.create({\n    baseURL: \"https://pixabay.com/api/\",\n    params: {\n        key: \"48847177-927ba4e40b84ac1d7e4adedbb\",\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    }\n});\n\nexport function createRequest(q) {\n    return axios2.get(\"\", {params:{q}}).then((res => res.data.hits));\n}","export function requestMarkups(data) {\n    const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = data;\n    return `<li>\n            <div class=\"card\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                  <img\n                    class=\"card-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                  />\n              </a>\n              <div class=\"card-content\">\n                <ul>\n                  <li><h5>Likes</h5></li>\n                  <li><p>${likes}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Views</h5></li>\n                  <li><p>${views}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Comments</h5></li>\n                  <li><p>${comments}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Downloads</h5></li>\n                  <li><p>${downloads}</p></li>\n                </ul>\n              </div>\n            </div>\n          </li>`;\n};\n\nexport function requestsMarkups(arr) {\n    return arr.map(requestMarkups).join(\"\");\n};\n\n\n","import { createRequest } from './js/pixabay-api.js';\nimport { requestsMarkups } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n    cardList: document.querySelector('.card-list'),\n    form: document.querySelector('.form-style'),\n    loader: document.querySelector('.loader')\n};\n\nrefs.form.addEventListener(\"submit\", handleSubmit);\n\nlet lightbox = new SimpleLightbox('.card-list a', {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n    const search = e.currentTarget.elements.query.value.trim();\n\n    if (!search) {\n        iziToast.warning({\n            title: \"Warning\",\n            message: \"âš ï¸ Please enter a search query!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    refs.cardList.innerHTML = \"\";\n\n    refs.loader.style.display = \"block\";\n\n    function fetchImages() {\n        createRequest(search)\n            .then(data => {\n                if (!data.length) {\n                    iziToast.info({\n                        title: \"Not found\",\n                        message: \"ðŸ˜¢ No images found.\",\n                        position: \"topRight\",\n                    });\n\n                    refs.cardList.innerHTML = \"\";\n\n                    return;\n                }\n\n                refs.cardList.innerHTML = requestsMarkups(data);\n                \n                lightbox.refresh();\n            })\n            .catch(error => {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"ðŸš¨ Something went wrong. Please try again!\",\n                    position: \"topRight\",\n                });\n\n                console.error(\"âŒ API request error:\", error);\n\n                refs.cardList.innerHTML = \"\";\n            })\n            .finally(() => {\n                refs.loader.style.display = \"none\";\n            });\n    }\n\n    fetchImages();\n\n    e.currentTarget.reset();\n}\n"],"names":["axios2","axios","createRequest","q","res","requestMarkups","data","largeImageURL","webformatURL","tags","likes","views","comments","downloads","requestsMarkups","arr","refs","handleSubmit","lightbox","SimpleLightbox","e","search","iziToast","fetchImages","error"],"mappings":"owBACA,MAAMA,EAASC,EAAM,OAAO,CACxB,QAAS,2BACT,OAAQ,CACJ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACL,CAAC,EAEM,SAASC,EAAcC,EAAG,CAC7B,OAAOH,EAAO,IAAI,GAAI,CAAC,OAAO,CAAC,EAAAG,CAAC,CAAC,CAAC,EAAE,KAAMC,GAAOA,EAAI,KAAK,IAAI,CAClE,CCbO,SAASC,EAAeC,EAAM,CACjC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,8CAEmCC,CAAa;AAAA;AAAA;AAAA,2BAGhCC,CAAY;AAAA,2BACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAMJC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAKpC,CAEO,SAASC,EAAgBC,EAAK,CACjC,OAAOA,EAAI,IAAIV,CAAc,EAAE,KAAK,EAAE,CAC1C,CC5BA,MAAMW,EAAO,CACT,SAAU,SAAS,cAAc,YAAY,EAC7C,KAAM,SAAS,cAAc,aAAa,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,IAAIC,EAAW,IAAIC,EAAe,eAAgB,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASF,EAAaG,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAASD,EAAE,cAAc,SAAS,MAAM,MAAM,OAEpD,GAAI,CAACC,EAAQ,CACTC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,kCACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDN,EAAK,SAAS,UAAY,GAE1BA,EAAK,OAAO,MAAM,QAAU,QAE5B,SAASO,GAAc,CACnBrB,EAAcmB,CAAM,EACf,KAAKf,GAAQ,CACV,GAAI,CAACA,EAAK,OAAQ,CACdgB,EAAS,KAAK,CACV,MAAO,YACP,QAAS,sBACT,SAAU,UAClC,CAAqB,EAEDN,EAAK,SAAS,UAAY,GAE1B,MACH,CAEDA,EAAK,SAAS,UAAYF,EAAgBR,CAAI,EAE9CY,EAAS,QAAO,CAChC,CAAa,EACA,MAAMM,GAAS,CACZF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6CACT,SAAU,UAC9B,CAAiB,EAED,QAAQ,MAAM,uBAAwBE,CAAK,EAE3CR,EAAK,SAAS,UAAY,EAC1C,CAAa,EACA,QAAQ,IAAM,CACXA,EAAK,OAAO,MAAM,QAAU,MAC5C,CAAa,CACR,CAEDO,IAEAH,EAAE,cAAc,OACpB"}